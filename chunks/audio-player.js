(self.webpackChunk=self.webpackChunk||[]).push([[845],{5173:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>s});const i={name:"audioPlayer",props:["showAudioPlayer","sampleData"],data:function(){return{title:null,audioSource:null,route:null}},created:function(){this.startPlaying(),this.$nextTick((function(){var e=this.$refs.audioPlayer.$el.querySelector(".operate"),t=e.querySelectorAll("span"),o=t[t.length-1];o.insertAdjacentElement("beforebegin",this.$refs.closeBtn),o=(t=e.querySelectorAll("span"))[t.length-1];var i=this.$refs.audioPlayer.$el.querySelector(".slider");e.insertBefore(i,e.firstChild),e.insertBefore(o,e.firstChild)})),this.$store.commit("prop",{key:"audioPlayerVisible",value:!0})},beforeDestroy:function(){this.$store.commit("prop",{key:"audioPlayerVisible",value:!1})},methods:{startPlaying:function(){this.audioSource=this.sampleData.book.sample,this.book=this.sampleData.book,this.sampleData.route&&(this.route=this.sampleData.route)},openBook:function(){this.route.fullPath!==this.$route.fullPath&&this.$router.push({path:this.route.path,query:this.route.query,params:this.route.params}),document.querySelector("#ale-bookdetails")?(this.$root.$emit("book-clicked",{book:this.book}),this.$nextTick((function(){this.$root.$emit("book-clicked",{book:this.book})}))):this.$root.$emit("book-clicked",{book:this.book})},samplePlayerClose:function(){this.audioSource=null,this.$emit("update:sampleData",null),this.$emit("update:showAudioPlayer",!1)},beforeDestroyed:function(){this.samplePlayerClose()}}},s=(0,o(810).Z)(i,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.audioSource?o("div",{attrs:{id:"audio-player"}},[e.book.title||e.book.titleShort?o("div",{staticClass:"book",on:{click:e.openBook}},[o("strong",[e._v("Sample:")]),e._v("\n    "+e._s(e.book.title||e.book.titleShort)+"\n  ")]):e._e(),e._v(" "),o("mini-audio",{ref:"audioPlayer",attrs:{"audio-source":e.audioSource,preload:!0,html5:!0,autoplay:!0}}),e._v(" "),o("span",{ref:"closeBtn",staticClass:"close"},[o("font-awesome",{attrs:{fas:"",icon:"times-circle"},on:{click:e.samplePlayerClose}})],1)],1):e._e()}),[],!1,null,null,null).exports}}]);