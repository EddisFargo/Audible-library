(self.webpackChunk=self.webpackChunk||[]).push([[482],{8217:(t,e,i)=>{"use strict";var o=i(1695),r=i(7740),n=i(9679),s=i(4005),a=i(3060),l=i(5574),h=i(9720),c=i(9955),u=i(3002),d=c("splice"),f=u("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,v=Math.min,w=9007199254740991,b="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!d||!f},{splice:function(t,e){var i,o,c,u,d,f,k=a(this),g=s(k.length),p=r(t,g),S=arguments.length;if(0===S?i=o=0:1===S?(i=0,o=g-p):(i=S-2,o=v(m(n(e),0),g-p)),g+i-o>w)throw TypeError(b);for(c=l(k,o),u=0;u<o;u++)(d=p+u)in k&&h(c,u,k[d]);if(c.length=o,i<o){for(u=p;u<g-o;u++)f=u+i,(d=u+o)in k?k[f]=k[d]:delete k[f];for(u=g;u>g-o+i;u--)delete k[u-1]}else if(i>o)for(u=g-o;u>p;u--)f=u+i-1,(d=u+o-1)in k?k[f]=k[d]:delete k[f];for(u=0;u<i;u++)k[u+p]=arguments[u+2];return k.length=g-o+i,c}})},1248:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>r}),i(3938),i(1013),i(8217);const o={name:"aleBackground",mixins:[i(6495).Z],data:function(){return{coverSource:null,books:null,booksLength:null,windowWidth:null,timer1:null,timer2:null}},mounted:function(){this.windowWidth=window.innerWidth,this.books=this.getBooks(),this.flipAnimationRandomizer(),this.$root.$on("afterWindowResize",this.onWindowResize)},beforeDestroyed:function(){this.$root.$off("afterWindowResize",this.onWindowResize),clearInterval(this.timer1),clearInterval(this.timer2)},methods:{bgGridSize:function(){var t=e(15);function e(t){return 6*t}return this.windowWidth<530?t=e(5):this.windowWidth<760?t=e(6):this.windowWidth<1e3?t=e(8):this.windowWidth<1300&&(t=e(12)),t},getBooks:function(){var t=this.bgGridSize();this.coverSource=this.$store.state.library.books?this.$store.state.library.books:this.$store.state.library.wishlist;var e=function(e){var i=e.length;if(i<=t){for(var o=Math.floor(t/i),r=t-i*o,n=o,s=[],a=0;a<n;a++)s=s.concat(e);return r>0&&(s=s.concat(e.splice(-1,r))),s}return _.sampleSize(e,t)}(this.coverSource);return e=_.map(e,(function(t){var e=_.pick(t,["cover"]);return e.flipOut=!1,e})),this.booksLength=e.length,e},flipAnimationRandomizer:function(){var t=this;clearInterval(t.timer1),clearInterval(t.timer2),t.timer1=setInterval((function(){t.coverSwitcheroo()}),t.randomNumber(1500,3e3)),t.timer2=setInterval((function(){t.coverSwitcheroo()}),t.randomNumber(3500,5e3))},coverSwitcheroo:function(){var t=this,e=this.randomNumber(0,this.booksLength-1),i=this.books[e];i.flipOut=!0,setTimeout((function(){var e=t.randomNumber(0,t.coverSource.length-1),o=t.coverSource[e];i.cover=o.cover,i.flipOut=!1}),850)},randomNumber:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},onWindowResize:function(t){t.widthChanged&&(this.windowWidth=t.width,this.books=this.getBooks())}}},r=(0,i(810).Z)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.books?i("div",{attrs:{id:"ale-background"}},t._l(t.books,(function(e,o){return i("img",{key:e.cover+o,class:{"flip-out":e.flipOut},attrs:{src:t.makeCoverUrl(e.cover,200),alt:""}})})),0):t._e()}),[],!1,null,"4f83a6b0",null).exports}}]);