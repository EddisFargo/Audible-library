(self.webpackChunk=self.webpackChunk||[]).push([[148],{3557:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i}),s(2327);var r=s(5611);const n={name:"aleSeries",components:{aleSearch:s(3312).Z,lazy:r.Z},data:function(){return{series:null}},created:function(){var e=[],t=1;_.eachRight(this.$store.state.library.books,(function(s){s.series&&_.each(s.series,(function(r){var n=_.find(e,{asin:r.asin});if(n)return n.books.push(s),!1;var i={name:r.name,asin:r.asin,added:t,books:[s]};++t,e.push(i)}))})),_.reverse(e),this.$store.commit("prop",{key:"pageCollection",value:e}),this.updateListRenderingOptions()},methods:{updateListRenderingOptions:function(){this.$setListRenderingOpts({scope:[{active:!0,key:"name"}],filter:[{active:!0,type:"filterExtras",label:"All",key:"all",group:"radioHead",condition:function(e){return!0}},{active:!1,type:"filterExtras",label:"Books 1",key:"series1",group:"radioHead",condition:function(e){return 1===e.books.length}},{active:!1,type:"filterExtras",label:"Books > 1",key:"series-1",group:"radioHead",condition:function(e){return e.books.length>1}},{active:!1,type:"filterExtras",label:"Books > 5",key:"series-5",group:"radioHead",condition:function(e){return e.books.length>5}},{active:!1,type:"filterExtras",label:"Books > 10",key:"series-10",group:"radioHead",condition:function(e){return e.books.length>10}},{active:!1,type:"filterExtras",label:"Books > 20",key:"series-20",group:"radioHead",condition:function(e){return e.books.length>20}},{active:!1,type:"filterExtras",label:"Books > 30",key:"series-30",group:"radioHead",condition:function(e){return e.books.length>30}}],sort:[{active:!1,key:"randomize",label:"Randomize",type:"sortExtras",tippy:"Ignores sorting and randomizes instead unless there's an active search."},{type:"divider",key:"divider1"},{active:!0,current:!0,key:"added",label:"Added",type:"sort",tippy:'<div style="text-align: left;"><small>&#9650;</small> Old at the top <br><small style="display: inline-block; transform: rotate(180deg);">&#9650;</small> New at the top</div>'},{active:!0,current:!1,key:"name",label:"Name",type:"sort"},{active:!0,current:!1,key:"amount",label:"Number of books",type:"sort"}]})}}},i=(0,s(810).Z)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box-layout-wrapper",attrs:{id:"ale-series"}},[s("ale-search",{attrs:{collectionSource:"pageCollection"}}),e._v(" "),e._l(e.$store.getters.collection,(function(t,r){return s("lazy",{key:"series:"+t.asin,staticClass:"single-box",attrs:{"data-asin":t.asin}},[s("router-link",{attrs:{to:{name:"series",params:{series:t.asin}}}},[s("h2",[e._v(e._s(t.name))]),e._v(" "),t.books&&t.books.length?s("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right"},expression:"{ placement: 'right' }"}],staticClass:"books-total",attrs:{content:"Total number of books I have in this series."}},[e._v("\n        "+e._s(t.books.length)+"\n      ")]):e._e()])],1)}))],2)}),[],!1,null,"ae594702",null).exports},5611:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const r={name:"lazy",props:["row","tag"],data:function(){return{observer:null,intersected:!1}},mounted:function(){this.$nextTick((function(){var e=this;this.observer=new IntersectionObserver((function(t){t[0].isIntersecting&&(e.intersected=!0,e.observer.disconnect())}),{threshold:0,rootMargin:"100px"}),this.observer.observe(this.$el)}))},destroyed:function(){this.observer&&this.observer.disconnect()}},n=(0,s(810).Z)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.tag?"td"===e.tag?s("td",{class:{mounted:e.intersected}},[e.intersected?e._t("default"):e._e()],2):e._e():s("div",{class:{mounted:e.intersected}},[e.intersected?e._t("default"):e._e()],2)}),[],!1,null,null,null).exports}}]);